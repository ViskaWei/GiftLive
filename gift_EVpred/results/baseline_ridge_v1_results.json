{
  "config": {
    "model_name": "baseline_ridge_v1",
    "model_type": "Ridge",
    "alpha": 1.0,
    "train_days": 7,
    "val_days": 7,
    "test_days": 7,
    "target_col": "target_raw",
    "whale_threshold": 100,
    "random_state": 42
  },
  "stats": {
    "train_samples": 1629415,
    "val_samples": 1717199,
    "test_samples": 1409533,
    "n_features": 31,
    "train_gift_rate": 0.01289419822451616,
    "val_gift_rate": 0.01327335969797327,
    "test_gift_rate": 0.015530675762823574,
    "train_total_revenue": 1796936.0,
    "val_total_revenue": 1804728.0,
    "test_total_revenue": 1809367.0
  },
  "train_metrics": {
    "train_mse": 5986.6993412913,
    "train_rmse": 77.37376390800243
  },
  "evaluation": {
    "train": {
      "n_samples": 1629415,
      "n_gifters": 21010,
      "n_whales": 2000,
      "whale_threshold": 100,
      "gift_rate": 0.01289419822451616,
      "whale_rate": 0.0012274343859606054,
      "total_revenue": 1796936.0,
      "revcap_1pct": 0.29101314682325913,
      "revcap_curve": {
        "0.1%": 0.18869564636692682,
        "0.5%": 0.25964808985962773,
        "1%": 0.29101314682325913,
        "2%": 0.34573351527266416,
        "5%": 0.43598325149031464,
        "10%": 0.5058004291749957
      },
      "oracle_curve": {
        "0.1%": 0.8942794846338434,
        "0.5%": 0.9895850492171118,
        "1%": 0.9973755325732246,
        "2%": 1.0,
        "5%": 1.0,
        "10%": 1.0
      },
      "normalized_curve": {
        "0.1%": 0.2110029913569883,
        "0.5%": 0.2623807726936078,
        "1%": 0.2917789110711854,
        "2%": 0.34573351527266416,
        "5%": 0.43598325149031464,
        "10%": 0.5058004291749957
      },
      "whale_recall_1pct": 0.2105,
      "whale_precision_1pct": 0.025837731680373142,
      "avg_revenue_1pct": 32.09353136123727,
      "gift_rate_1pct": 0.07689947219835522,
      "calibration": {
        "top_0.1%": {
          "sum_ratio": 1.2545327356791167,
          "mean_ratio": 1.254532735679117
        },
        "top_0.5%": {
          "sum_ratio": 1.2100672544041853,
          "mean_ratio": 1.210067254404185
        },
        "top_1.0%": {
          "sum_ratio": 1.1723822177489243,
          "mean_ratio": 1.1723822177489243
        },
        "top_5.0%": {
          "sum_ratio": 1.0010332770119434,
          "mean_ratio": 1.0010332770119432
        }
      },
      "metrics_by_k": {
        "0.1%": {
          "revcap": 0.18869564636692682,
          "whale_recall": 0.098,
          "whale_precision": 0.12031921424186617,
          "avg_revenue": 208.14855739717618,
          "gift_rate": 0.17372621240024555,
          "oracle_revcap": 0.8942794846338434,
          "normalized_revcap": 0.2110029913569883
        },
        "0.5%": {
          "revcap": 0.25964808985962773,
          "whale_recall": 0.1825,
          "whale_precision": 0.04480176752178716,
          "avg_revenue": 57.26905609426783,
          "gift_rate": 0.0972136982938505,
          "oracle_revcap": 0.9895850492171118,
          "normalized_revcap": 0.2623807726936078
        },
        "1%": {
          "revcap": 0.29101314682325913,
          "whale_recall": 0.2105,
          "whale_precision": 0.025837731680373142,
          "avg_revenue": 32.09353136123727,
          "gift_rate": 0.07689947219835522,
          "oracle_revcap": 0.9973755325732246,
          "normalized_revcap": 0.2917789110711854
        },
        "2%": {
          "revcap": 0.34573351527266416,
          "whale_recall": 0.256,
          "whale_precision": 0.015711304774763717,
          "avg_revenue": 19.06410335092672,
          "gift_rate": 0.06622069473425801,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.34573351527266416
        },
        "5%": {
          "revcap": 0.43598325149031464,
          "whale_recall": 0.308,
          "whale_precision": 0.007561065422855039,
          "avg_revenue": 9.616226831962686,
          "gift_rate": 0.039720142383699523,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.43598325149031464
        },
        "10%": {
          "revcap": 0.5058004291749957,
          "whale_recall": 0.3815,
          "whale_precision": 0.004682676551635254,
          "avg_revenue": 5.578037449138032,
          "gift_rate": 0.02866681805070547,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.5058004291749957
        }
      },
      "stability": {
        "mean": 0.33252391147074495,
        "std": 0.12344832301725416,
        "cv": 0.3712464540406893,
        "ci_lower": 0.23903235148251534,
        "ci_upper": 0.4208743353337508,
        "min": 0.11939539685658766,
        "max": 0.465617545605876,
        "min_date": "2025-05-05",
        "max_date": "2025-05-10"
      },
      "ndcg_100": 0.17453038108317473,
      "spearman": 0.033812752931846976
    },
    "val": {
      "n_samples": 1717199,
      "n_gifters": 22793,
      "n_whales": 2064,
      "whale_threshold": 100,
      "gift_rate": 0.01327335969797327,
      "whale_rate": 0.00120195737360667,
      "total_revenue": 1804728.0,
      "revcap_1pct": 0.44928820298682126,
      "revcap_curve": {
        "0.1%": 0.29956868846718177,
        "0.5%": 0.4075738837098998,
        "1%": 0.44928820298682126,
        "2%": 0.5086068371521913,
        "5%": 0.5937509696752087,
        "10%": 0.6470288043405987
      },
      "oracle_curve": {
        "0.1%": 0.8876268335172945,
        "0.5%": 0.9881256344446365,
        "1%": 0.9968848491296195,
        "2%": 1.0,
        "5%": 1.0,
        "10%": 1.0
      },
      "normalized_curve": {
        "0.1%": 0.33749395258829223,
        "0.5%": 0.41247172373882546,
        "1%": 0.4506921771146336,
        "2%": 0.5086068371521913,
        "5%": 0.5937509696752087,
        "10%": 0.6470288043405987
      },
      "whale_recall_1pct": 0.32655038759689925,
      "whale_precision_1pct": 0.03925222759303477,
      "avg_revenue_1pct": 47.22165278667521,
      "gift_rate_1pct": 0.08502708054277561,
      "calibration": {
        "top_0.1%": {
          "sum_ratio": 1.477146490365838,
          "mean_ratio": 1.4771464903658378
        },
        "top_0.5%": {
          "sum_ratio": 1.7781239416658245,
          "mean_ratio": 1.7781239416658245
        },
        "top_1.0%": {
          "sum_ratio": 1.8687468288609563,
          "mean_ratio": 1.8687468288609563
        },
        "top_5.0%": {
          "sum_ratio": 1.7762984297516886,
          "mean_ratio": 1.7762984297516888
        }
      },
      "metrics_by_k": {
        "0.1%": {
          "revcap": 0.29956868846718177,
          "whale_recall": 0.125484496124031,
          "whale_precision": 0.15084449621432733,
          "avg_revenue": 314.87478159580667,
          "gift_rate": 0.21490972626674432,
          "oracle_revcap": 0.8876268335172945,
          "normalized_revcap": 0.33749395258829223
        },
        "0.5%": {
          "revcap": 0.4075738837098998,
          "whale_recall": 0.25193798449612403,
          "whale_precision": 0.060570762958648806,
          "avg_revenue": 85.67967384973791,
          "gift_rate": 0.11240535818287711,
          "oracle_revcap": 0.9881256344446365,
          "normalized_revcap": 0.41247172373882546
        },
        "1%": {
          "revcap": 0.44928820298682126,
          "whale_recall": 0.32655038759689925,
          "whale_precision": 0.03925222759303477,
          "avg_revenue": 47.22165278667521,
          "gift_rate": 0.08502708054277561,
          "oracle_revcap": 0.9968848491296195,
          "normalized_revcap": 0.4506921771146336
        },
        "2%": {
          "revcap": 0.5086068371521913,
          "whale_recall": 0.39244186046511625,
          "whale_precision": 0.023585592406021604,
          "avg_revenue": 26.727338904580265,
          "gift_rate": 0.07043647904958798,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.5086068371521913
        },
        "5%": {
          "revcap": 0.5937509696752087,
          "whale_recall": 0.4893410852713178,
          "whale_precision": 0.011763472670308295,
          "avg_revenue": 12.480450506062265,
          "gift_rate": 0.05931818446522787,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.5937509696752087
        },
        "10%": {
          "revcap": 0.6470288043405987,
          "whale_recall": 0.5542635658914729,
          "whale_precision": 0.006662046715855555,
          "avg_revenue": 6.800126951589515,
          "gift_rate": 0.038836704150385225,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.6470288043405987
        }
      },
      "stability": {
        "mean": 0.4449739904769351,
        "std": 0.10124797691153932,
        "cv": 0.22753684277820152,
        "ci_lower": 0.371022180691357,
        "ci_upper": 0.51643884993296,
        "min": 0.2727149798912996,
        "max": 0.5918252452985894,
        "min_date": "2025-05-16",
        "max_date": "2025-05-11"
      },
      "ndcg_100": 0.19328158933119588,
      "spearman": 0.042614344548143945
    },
    "test": {
      "n_samples": 1409533,
      "n_gifters": 21891,
      "n_whales": 2060,
      "whale_threshold": 100,
      "gift_rate": 0.015530675762823574,
      "whale_rate": 0.0014614769572617314,
      "total_revenue": 1809367.0,
      "revcap_1pct": 0.5097733074605649,
      "revcap_curve": {
        "0.1%": 0.2131187315785023,
        "0.5%": 0.4291788233122412,
        "1%": 0.5097733074605649,
        "2%": 0.5592480685234118,
        "5%": 0.63024029950806,
        "10%": 0.688394339014694
      },
      "oracle_curve": {
        "0.1%": 0.8565100391462871,
        "0.5%": 0.9850688113577842,
        "1%": 0.9956913108285936,
        "2%": 1.0,
        "5%": 1.0,
        "10%": 1.0
      },
      "normalized_curve": {
        "0.1%": 0.2488222225520264,
        "0.5%": 0.4356841048704772,
        "1%": 0.5119792669842044,
        "2%": 0.5592480685234118,
        "5%": 0.63024029950806,
        "10%": 0.688394339014694
      },
      "whale_recall_1pct": 0.34563106796116505,
      "whale_precision_1pct": 0.05051436679673643,
      "avg_revenue_1pct": 65.4393047179851,
      "gift_rate_1pct": 0.09386307201135154,
      "calibration": {
        "top_0.1%": {
          "sum_ratio": 2.3940417337262474,
          "mean_ratio": 2.394041733726248
        },
        "top_0.5%": {
          "sum_ratio": 2.303520493618718,
          "mean_ratio": 2.303520493618718
        },
        "top_1.0%": {
          "sum_ratio": 2.3804802542226575,
          "mean_ratio": 2.380480254222658
        },
        "top_5.0%": {
          "sum_ratio": 2.5083148883289303,
          "mean_ratio": 2.5083148883289303
        }
      },
      "metrics_by_k": {
        "0.1%": {
          "revcap": 0.2131187315785023,
          "whale_recall": 0.10145631067961165,
          "whale_precision": 0.1483321504613201,
          "avg_revenue": 273.6763662171753,
          "gift_rate": 0.20794889992902768,
          "oracle_revcap": 0.8565100391462871,
          "normalized_revcap": 0.2488222225520264
        },
        "0.5%": {
          "revcap": 0.4291788233122412,
          "whale_recall": 0.2538834951456311,
          "whale_precision": 0.07421597843053782,
          "avg_revenue": 110.19469277706825,
          "gift_rate": 0.11990918121186321,
          "oracle_revcap": 0.9850688113577842,
          "normalized_revcap": 0.4356841048704772
        },
        "1%": {
          "revcap": 0.5097733074605649,
          "whale_recall": 0.34563106796116505,
          "whale_precision": 0.05051436679673643,
          "avg_revenue": 65.4393047179851,
          "gift_rate": 0.09386307201135154,
          "oracle_revcap": 0.9956913108285936,
          "normalized_revcap": 0.5119792669842044
        },
        "2%": {
          "revcap": 0.5592480685234118,
          "whale_recall": 0.4097087378640777,
          "whale_precision": 0.029939694927279176,
          "avg_revenue": 35.895175594182334,
          "gift_rate": 0.0725789286981199,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.5592480685234118
        },
        "5%": {
          "revcap": 0.63024029950806,
          "whale_recall": 0.5213592233009708,
          "whale_precision": 0.015239230376298315,
          "avg_revenue": 16.18048697428912,
          "gift_rate": 0.06430557920426812,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.63024029950806
        },
        "10%": {
          "revcap": 0.688394339014694,
          "whale_recall": 0.6121359223300971,
          "whale_precision": 0.008946244492845134,
          "avg_revenue": 8.836690244265819,
          "gift_rate": 0.049293026753598715,
          "oracle_revcap": 1.0,
          "normalized_revcap": 0.688394339014694
        }
      },
      "stability": {
        "mean": 0.5052556017180505,
        "std": 0.05231851538081658,
        "cv": 0.10354861025373066,
        "ci_lower": 0.46296628740944973,
        "ci_upper": 0.5429790989532584,
        "min": 0.4077201948746715,
        "max": 0.5673888633225955,
        "min_date": "2025-05-24",
        "max_date": "2025-05-22"
      },
      "ndcg_100": 0.061196852447570387,
      "spearman": 0.052672205631696854
    }
  },
  "timestamp": "2026-01-19T01:05:59.664377"
}