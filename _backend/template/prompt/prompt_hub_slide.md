# Hub → Slides 整合 Prompt & 模版（通用版）

> 用途：把 `[topic]_hub.md` + `[topic]_roadmap.md` + `slide_*.md`（单实验页）自动整合成 `hub_slide_[topic].md`。

---

## 0) 页数 & 时长计算公式

| 实验数量 (N) | 总页数 | 总时长 | 页面结构 |
|--------------|--------|--------|----------|
| N = 1-2 | 3-5 页 | 3-5 min | 开场(1) + 实验(N) + 结论(1) + [可选:问题树/架构] |
| N = 3-4 | 5-6 页 | 5-6 min | 开场(1) + 问题树(1) + 实验(N) + 结论(1) |
| N = 5+ | 6-8 页 | 6-8 min | 开场(1) + 问题树(1) + 架构(1) + 实验(N,合并FAIL) + 结论(1) |

**计算规则**：
- **基础页数** = 2（开场 + 结论）
- **实验页数** = min(N, 5)（超过 5 个实验时合并 FAIL）
- **结构页数** = 0 (N≤2) / 1 (N=3-4) / 2 (N≥5)
- **总页数** = 基础 + 实验 + 结构
- **每页时长** ≈ 45-75 秒

---

## 1) 一次性 Prompt（复制即用）

你是一名"技术负责人汇报助手"。我会给你三类输入：
1) **Hub 文档**（包含问题树、共识、推荐架构、关键数字、决策空白）
2) **Roadmap 文档**（包含 Gate 定义、通过/失败标准、MVP 状态、下一步）
3) **实验 Slide 文档**（每个实验 1 页：目的/方法/结果/决策，带关键数字）

你的任务：输出一个 Markdown 文件：`hub_slide_<topic>.md`，用于口头汇报。

### 输入
- `TOPIC`: <主题名称>
- `HUB_MD`: <粘贴 hub markdown>
- `ROADMAP_MD`: <粘贴 roadmap markdown>
- `EXP_SLIDES`: 
  - <粘贴 slide_xxx.md 1>
  - <粘贴 slide_xxx.md 2>
  - ...
- `EXP_COUNT`: <实验数量 N>

### 约束（根据实验数量动态调整）

**页数规则**：
- N = 1-2 → **3-5 页**，**3-5 分钟**
- N = 3-4 → **5-6 页**，**5-6 分钟**
- N ≥ 5 → **6-8 页**，**6-8 分钟**

**页面结构**：
| 页面类型 | N=1-2 | N=3-4 | N≥5 |
|----------|-------|-------|-----|
| 开场（Why + 关键事实） | ✅必须 | ✅必须 | ✅必须 |
| 问题树 | 可选（合并到开场） | ✅必须 | ✅必须 |
| 模块架构 | 可选 | 可选 | ✅必须 |
| 实验页（每个 PASS 实验） | ✅必须 | ✅必须 | ✅必须 |
| FAIL 合并页 | 可选 | 可选 | ✅必须（≥2个FAIL时） |
| 结论 + 下一步 | ✅必须 | ✅必须 | ✅必须 |

**内容约束**：
- **必须体现**：失败实验不等于失败——要把 FAIL 转译为"在当前设置下不划算/约束未触发/瓶颈"等，并给出下一步如何改
- **必须输出逐字稿**：每页都要有逐字可读的讲稿，放在 `<details>` 折叠块内
- **数字口径**：以 Hub/Roadmap 的"唯一权威数字"优先；若实验 slide 给了更新数字，以实验为准

### 输出格式（严格）

**硬约束**：
1. ❌ **禁止**使用 "Slide 1/2/3"、"第一页/第二页/第三页" 字样
2. ❌ **禁止**使用 "### On-slide" + "### 逐字稿" 结构
3. ✅ **必须**使用描述性标题（如 "## 核心问题树：XXX到底在解决什么？"）
4. ✅ **必须**使用 `<details><summary><b>note</b></summary>` 折叠块放逐字稿

**格式模板**：
```markdown
# <Topic>（<层级>）— Xmin 汇报

> **Topic**: <Topic Name>  \
> **Author**: <作者>  \
> **Date**: <YYYY-MM-DD>  \
> **Language**: <EN/中文>

---

## [描述性标题：一句话 punchline（带数字/动作）]

- bullet 1
- bullet 2
- ...（每页 3-6 条 bullet）

<details>
<summary><b>note</b></summary>

[逐字稿；口语化；本页约 45–75 秒。]

</details>

---

## [下一页描述性标题]
...
```

### 内容策略（根据实验数量调整）

**N = 1-2（精简版，3-5页）**：
1) 开场：Why + 关键事实 + 问题概述（可合并问题树）
2) 实验1：方法/结果/决策
3) [可选] 实验2
4) 结论 + 下一步

**N = 3-4（标准版，5-6页）**：
1) 开场：Why + 关键事实
2) 问题树：把工作拆清楚
3) 实验1-N：各 1 页（PASS）或合并（FAIL）
4) 结论 + 下一步

**N ≥ 5（完整版，6-8页）**：
1) 开场：Why + 关键事实
2) 问题树：把工作拆清楚
3) 模块架构：可落地的闭环
4) 关键实验 → 决策（PASS 实验各 1 页）
5) FAIL 合并页（"Fail ≠ 没价值"）
6) 结论 + 下一步

现在开始生成：`hub_slide_<topic>.md`。

---

## 2) Slide 模版骨架（可复用）

### 2.1 精简版（N=1-2，3-5页）

```markdown
# <Topic> — Xmin 汇报

> **Topic**: <Topic Name>  \
> **Author**: <作者>  \
> **Date**: <YYYY-MM-DD>  \
> **Language**: <EN/中文>

---

## 一句话定位：<punchline（带核心数字）>

- **目标**：<全局目标>
- **难点**：<2-3个关键词>
- **关键事实**：<2-3个数字>
- **核心问题**：<1句话概述要解决什么>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## <实验1标题>：<一句话结论>

**目的/假设**：<1句>

- 方法要点
- 关键结果（数字）
- **决策**：<采用/拒绝/继续>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## [可选：实验2]

...

---

## 结论 & 下一步

**核心结论**
- 结论1（带数字）
- 结论2

**当前推荐**
- 推荐方案

**下一步**
- 🔴 高优先级
- 🟡 中优先级

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

<details>
<summary><b>备忘：口播节奏</b></summary>

| 页数 | 时长 | 内容 |
|------|------|------|
| 1 | 50s | 开场+问题 |
| 2 | 60s | 实验1 |
| 3 | 50s | 结论 |

</details>
```

### 2.2 标准版（N=3-4，5-6页）

```markdown
# <Topic> — Xmin 汇报

> **Topic**: <Topic Name>  \
> **Author**: <作者>  \
> **Date**: <YYYY-MM-DD>  \
> **Language**: <EN/中文>

---

## 一句话定位：<punchline>

- **目标**：<全局目标>
- **难点**：<3个关键词>
- **关键事实**：<3-4个数字>
- **结论先行**：<1句>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## 核心问题树：<主题>到底在解决什么？

```text
<树状结构：核心问题 → 2–3个分支 → 每个分支一句当前结论>
```

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## <实验1标题>：<一句话结论>

**目的/假设**：<1句>

- 方法要点
- 关键结果（数字）
- **决策**：<采用/拒绝/继续>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## <实验2-N>...

---

## 结论 & 下一步

**当前推荐（可落地版）**
- 方案1
- 方案2

**护栏指标**
- 指标1、指标2、...

**下一步**
- 🔴 高优先级任务
- 🟡 中优先级任务
- 🟢 低优先级任务

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>
```

### 2.3 完整版（N≥5，6-8页）

```markdown
# <Topic>（<层级>）— Xmin 汇报

> **Topic**: <Topic Name>  \
> **Author**: <作者>  \
> **Date**: <YYYY-MM-DD>  \
> **Language**: <EN/中文>

---

## 一句话定位 + 为什么现在做：<punchline>

- **目标**：<全局目标>
- **难点**：<3个关键词>
- **关键事实**：<3–4个数字>
- **结论先行**：<1句>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## 核心问题树：<主题>到底在解决什么？

```text
<树状结构：核心问题 → 3–4个分支 → 每个分支一句当前结论>
```

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## 模块架构：可插拔的"X→Y→Z"闭环

**输入**：<I/O>

```
<架构流程图：ASCII 或简化版>
```

**关键设计**
- 设计点1
- 设计点2

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## <实验1标题>：<一句话结论>

**目的/假设**：<1句>

- 方法要点
- 关键结果（数字）
- **决策**：<采用/拒绝/继续>

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

## <实验2-N（PASS）>...

---

## "Fail ≠ 没价值"：<合并多个FAIL实验>

### A) <FAIL实验1>
- 目标：<>
- 结果：<阈值/数字>
- **结论**：<原因 + 学到什么 + 下一步>

### B) <FAIL实验2>
- ...

<details>
<summary><b>note</b></summary>

<60–75秒逐字稿>

</details>

---

## 当前推荐方案 & 下一步 Gate

**当前推荐（可落地版）**
- 方案1
- 方案2

**护栏指标（上线必看）**
- 指标1
- 指标2
- ...

**下一步（Phase X）**
- 🔴 高优先级任务
- 🟡 中优先级任务
- 🟢 低优先级任务

**必须补齐的依赖**
- 依赖1、依赖2、...

<details>
<summary><b>note</b></summary>

<45–60秒逐字稿>

</details>

---

<details>
<summary><b>备忘：Xmin 口播节奏建议</b></summary>

| 页数 | 时长 | 内容 |
|------|------|------|
| 1 | Xs | 内容概述 |
| 2 | Xs | ... |
| ... | ... | ... |

</details>
```

---

## 3) 产出自检清单（生成后必须自查）

### 格式检查
- [ ] ❌ 没有使用 "Slide X" 或 "第X页" 字样
- [ ] ❌ 没有使用 "### On-slide" + "### 逐字稿" 结构
- [ ] ✅ 每页都有 `<details><summary><b>note</b></summary>` 折叠块放逐字稿
- [ ] ✅ 每个页面标题都是描述性的
- [ ] ✅ Header 包含 Topic/Author/Date/Language

### 页数检查
- [ ] N=1-2 → 3-5 页
- [ ] N=3-4 → 5-6 页
- [ ] N≥5 → 6-8 页
- [ ] 每页信息不超过 6 行

### 内容检查
- [ ] 至少 1 页问题概述（N≤2 可合并到开场）
- [ ] N≥5 时有架构图
- [ ] 失败实验都有"为什么失败 + 学到什么 + 下一步怎么改"
- [ ] 至少 3-5 个关键数字被明确说出且来源一致
- [ ] 最后一页明确"当前推荐方案"与"下一步"
- [ ] 下一步任务使用 🔴🟡🟢 标记优先级

---

## 4) 格式要点速查

| 旧格式（❌禁止） | 新格式（✅必须） |
|------------------|------------------|
| `## Slide 1 — 标题` | `## 标题：副标题` |
| `### On-slide（投屏内容）` | 直接写 bullet |
| `### 逐字稿` | `<details><summary><b>note</b></summary>` |
| `\(公式\)` | `$公式$` |
| 无 Header | 必须有 Topic/Author/Date/Language |
| 下一步无优先级 | 使用 🔴🟡🟢 标记 |
| 固定 8 页 | 根据 N 动态调整（3-8页） |
