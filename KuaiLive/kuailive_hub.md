# 🧠 KuaiLive Hub
> **ID:** EXP-20260109-kuailive-hub | **Status:** 🌱探索 |  
> **Date:** 2026-01-09 | **Update:** 2026-01-17  
> **Author:** Viska Wei

| # | 💡 共识[抽象洞见] | 证据 | 决策 |
|---|----------------------------|----------------|------|
| K1 | **动态候选集是直播推荐的核心差异** | 通过 room start/end 支持真实模拟 | 建模需考虑时间窗口内的候选集变化 |
| K2 | **多行为序列支持 multi-behavior/multi-task 建模** | click/comment/like/gift 四类行为，严格时间顺序 | 可设计多任务学习框架 |
| K3 | **负反馈数据支持 CTR 任务** | 记录"曝光但跳过"的房间 | 可用于 CTR 预测，不限于正反馈推荐 |
| K4 | **主播侧极端长尾，冷启动是真实问题** | 约 70% 主播交互数 < 5 | 需考虑冷启动策略与生态公平性 |
| K5 | **重复消费 + 日周期是结构性现象** | 约 27.1% 用户会与同一主播多次交互，呈现按天周期 | time-aware / session 建模很重要 |
| K6 | **Room 作为 item 比 Streamer 作为 item 难很多** | 短生命周期、稀疏、冷启动更严重 | 实验设计需区分两种 item 定义 |
| K7 | **打赏是即时冲动行为，90%+发生在 session 前 10% 时间** | 90.36% 打赏发生在 session 前 10% 时间内 | 产品策略需重视"首 10% 时间窗口"转化机会 |
| K8 | **Session 级建模粒度合理，转化率与 click-level 一致** | Session 转化率 1.57% 与 click-level 1.48% 接近 | Session-level 可作为建模粒度，更符合业务逻辑 |

**🦾 现阶段信念 [≤10条，写"所以呢"]**
- **动态候选集建模是核心** → 需在离线实验中重建"某一时刻哪些房间在播"，模拟真实动态候选集
- **多行为建模有潜力** → 可设计 multi-behavior 模型，利用 click/comment/like/gift 的层次关系
- **冷启动与公平性是必须考虑的问题** → 不能简单用 5-core 过滤，需设计冷启动策略
- **时间感知建模很重要** → 用户与主播存在重复消费和日周期模式，需 time-aware 模型
- **Room vs Streamer 的建模难度差异显著** → 实验设计需明确 item 定义，benchmark 需分别评估
- **打赏是即时冲动行为** → 90.36% 打赏发生在 session 前 10% 时间内，产品策略需重视该时间窗口转化机会
- **Session 级建模粒度合理** → Session 转化率 1.57% 与 click-level 一致，可作为建模粒度，更符合业务逻辑
- **数据质量优秀可直接建模** → 数据健康评分 5.0/5.0，无需额外清洗，可直接用于建模

**👣 下一步最有价值  [≤2条，直接可进 Roadmap Gate]**
- 🔴 **P0**：完成 KuaiLive 数据集的全面 EDA，验证论文提到的数据特性 → If [验证通过] then [设计建模方案] else [调整数据理解]
- 🟡 **P1**：对比 Room-level vs Streamer-level 的建模性能差异 → If [差异显著] then [选择合适粒度] else [统一粒度]

> **权威数字（一行即可）**：数据集规模：用户 23,772 | 主播 452,621 | 直播间 11,613,708 | 总交互 5,357,998 | Session 4,293,908 | Session 转化率 1.57% | 立即打赏比例 90.36% | 数据健康评分 5.0/5.0

| 模型/方法 | 指标值 | 配置 | 备注 |
|-----------|--------|------|------|
| Baseline (论文) | - | Room-level / Streamer-level | 论文 benchmark 结果 |
| - | - | - | - |

## 1) 🌲 核心假设树
```
🌲 核心: KuaiLive 数据集如何支持直播推荐研究
│
├── Q1: 数据集特性与优势
│   ├── Q1.1: 动态候选集如何支持真实模拟? → 🔆 通过 room start/end 重建候选集
│   ├── Q1.2: 多行为序列如何利用? → 🔆 click/comment/like/gift 支持 multi-behavior
│   ├── Q1.3: 负反馈数据如何应用? → 🔆 支持 CTR 预测任务
│
├── Q2: 数据分布特征
│   ├── Q2.1: 打赏是"即时冲动"还是"随观看累积"? → ✅ **已验证** 90.36% 立即打赏，发生在 session 前 10% 时间内
│   ├── Q2.2: 主播侧长尾分布如何影响建模? → 🔆 70% 主播交互 < 5，冷启动严重
│   ├── Q2.3: 用户活跃度分布特征? → 🔆 43.8% 用户交互 < 50，昼夜节律明显
│   ├── Q2.4: 重复消费模式如何建模? → 🔆 27.1% 用户重复交互，呈现日周期
│   ├── Q2.5: 数据是否存在异常/作弊/污染? → ✅ **已验证** 数据健康评分 5.0/5.0，无异常值、无缺失、Gift-Click 匹配率 > 90%
│
├── Q3: 建模任务设计
│   ├── Q3.1: Room-level vs Streamer-level 性能差异? → 🔆 Room 更难（短生命周期、稀疏）
│   ├── Q3.2: Top-K 推荐 vs CTR 预测哪个更适合? → ⏳ 待验证
│   └── Q3.3: 多任务学习是否有优势? → ⏳ 待验证

Legend: ✅ 已验证 | ❌ 已否定 | 🔆 进行中 | ⏳ 待验证 | 🗑️ 已关闭
```

## 2) 口径冻结（唯一权威）
| 项目 | 规格 |
|---|---|
| Dataset / Version | KuaiLive (2025-05-05 到 2025-05-25, 21 天) |
| Train / Val / Test | 论文采用 8:1:1 时间切分（CTR 任务） |
| Metric | Top-K: Recall@K, NDCG@K; CTR: AUC, LogLoss |
| Seed / Repeats | 论文未明确，需在实验中统一 |
> 规则：任何口径变更必须写入 §8 变更日志。
---
## 3) 当前答案 & 战略推荐（对齐问题树）
### 3.1 战略推荐（只保留"当前推荐"）
- **推荐路线：Route A - 数据特性验证与建模方案设计**（一句话理由：先全面理解数据特性，再设计针对性的建模方案）
- 需要 Roadmap 关闭的 Gate：Gate-1 (EDA 完成), Gate-2 (Baseline 对齐)

| Route | 一句话定位 | 当前倾向 | 关键理由 | 需要的 Gate |
|---|---|---|---|---|
| **Route A** | 数据特性验证 → 建模方案设计 | 🟢 推荐 | 基于数据特性设计针对性方案 | Gate-1, Gate-2 |
| Route B | 直接复现论文 benchmark | 🟡 | 可快速对齐，但缺乏深度理解 | Gate-2 |
| Route C | 探索新任务方向 | 🔴 | 数据理解不足，风险高 | - |

### 3.2 分支答案表（每行必须回答"所以呢"）
| 分支 | 当前答案（1句话） | 置信度 | 决策含义（So what） | 证据（exp/MVP） |
|---|---|---|---|---|
| A | 动态候选集是核心差异 | 🟢 | 建模需考虑时间窗口内候选集变化 | 论文描述 |
| B | 多行为序列支持 multi-behavior | 🟢 | 可设计多任务学习框架 | 论文描述 |
| C | 主播侧极端长尾 | 🟢 | 需考虑冷启动策略，不能用 5-core 过滤 | 论文统计：70% 主播交互 < 5 |
| D | 重复消费 + 日周期是结构性现象 | 🟢 | time-aware / session 建模很重要 | 论文统计：27.1% 用户重复交互 |
| E | Room-level 比 Streamer-level 难 | 🟢 | 实验设计需明确 item 定义 | 论文 benchmark 结果 |
---
## 4) 洞见汇合（多实验 → 共识）
> 只收录"会改变决策"的洞见，建议 5–8 条。

| # | 洞见（标题） | 观察（What） | 解释（Why） | 决策影响（So what） | 证据 |
|---|---|---|---|---|---|
| I1 | **动态候选集是直播推荐核心差异** | 通过 room start/end 可以重建"某一时刻哪些房间在播" | 直播推荐候选集随时间动态变化，不同于传统推荐 | 建模需考虑时间窗口内的候选集变化，不能假设固定候选集 | 论文核心特性 |
| I2 | **多行为序列支持层次建模** | click/comment/like/gift 四类行为，严格时间顺序 | 行为之间存在层次关系（click → comment/like → gift） | 可设计 multi-behavior 模型，利用行为层次关系 | 论文数据组成 |
| I3 | **负反馈数据支持 CTR 任务** | 记录"曝光但跳过"的房间 | 不同于仅正反馈的推荐数据集 | 可用于 CTR 预测，不限于正反馈推荐 | 论文特性 |
| I4 | **主播侧极端长尾，冷启动严重** | 约 70% 主播交互数 < 5 | 长尾分布导致大多数主播缺乏历史数据 | 不能用 5-core 过滤（会切碎真实生态），需设计冷启动策略 | 论文统计 |
| I5 | **重复消费 + 日周期是结构性现象** | 约 27.1% 用户会与同一主播多次交互，呈现按天周期 | 用户对特定主播有持续兴趣，且存在时间规律 | time-aware / session 建模很重要，需考虑周期性特征 | 论文统计与可视化 |
| I6 | **Room vs Streamer 建模难度差异显著** | Room-level 性能显著低于 Streamer-level | Room 是会话级实体、生命周期短、很多 room 没历史 | 实验设计需明确 item 定义，benchmark 需分别评估 | 论文 benchmark |
| I7 | **用户活跃度分布长尾 + 昼夜节律明显** | 43.8% 用户交互 < 50，晚间（18:00–24:00）交互更高 | 用户活跃度差异大，且存在明显时间模式 | 需考虑用户活跃度特征和时间特征 | 论文统计 |
| I8 | **Gift 行为极稀疏** | Gift 约为 Click 的 1.5% 量级（72,646 vs 4,909,515） | 打赏是高成本行为，自然稀疏 | 打赏相关任务需特殊处理（不均衡学习、两段式建模等） | `exp/exp_kuailive_eda_20260108.md` |
| I9 | **打赏是即时冲动行为，90%+发生在 session 前 10% 时间** | 90.36% 打赏发生在 session 前 10% 时间内，中位数首礼时间比例 < 0.1 | 打赏行为具有强烈的即时性特征，而非随观看累积 | 产品策略需重视"首 10% 时间窗口"转化机会，建模需重点提取该窗口特征 | `exp/exp_kuailive_eda_comprehensive_20260109.md` §3.1 |
| I10 | **Session 级建模粒度合理，转化率与 click-level 一致** | Session 转化率 1.57% 与 click-level 打赏率 1.48% 接近 | Session 构建合理，可作为建模粒度 | Session-level 标签定义更符合业务逻辑，优于 click-level | `exp/exp_kuailive_eda_comprehensive_20260109.md` §3.3 |
| I11 | **数据质量优秀，可直接用于建模** | 数据健康评分 5.0/5.0，无缺失值、无异常值、Gift-Click 匹配率 > 90% | 数据完整性、一致性、有效性、时效性全部满分 | 无需额外数据清洗，可直接用于建模 | `exp/exp_kuailive_eda_comprehensive_20260109.md` §2.4 |
| I12 | **Session 时长极端重尾分布，需异常值处理** | Session 时长 P99/P50 = 1,895x，P99 约 2.6 小时，P50 仅 4.9 秒 | 极端重尾分布，少数 session 极长 | 建模需考虑异常值处理和分位数回归，避免被极值主导 | `exp/exp_kuailive_eda_comprehensive_20260109.md` §3.3 |

## 5) 决策空白（Decision Gaps）
> 写"要回答什么"，不写"怎么做实验"。建议 3–6 条。

| DG | 我们缺的答案 | 为什么重要（会改哪个决策） | 什么结果能关闭它 | 决策规则 |
|---|---|---|---|---|
| DG1 | KuaiLive 数据集的完整 EDA 结果 | 需要验证论文提到的数据特性，指导建模方案设计 | EDA 报告完成，关键统计与论文一致 | ✅ Phase 1-2 完成：数据质量 5.0/5.0，Session 构建合理，打赏即时性已验证 |
| DG2 | Room-level vs Streamer-level 的建模性能差异量化 | 需要明确选择哪种 item 定义，影响实验设计 | 两种粒度的 benchmark 结果对比 | If [差异显著] → [选择合适粒度]；Else [统一粒度] |
| DG3 | 多行为建模 vs 单行为建模的优势 | 需要决定是否采用 multi-behavior 框架 | Multi-behavior 模型 vs Single-behavior 模型对比 | If [优势显著] → [采用 multi-behavior]；Else [简化架构] |
| DG4 | 时间感知模型 vs 非时间模型的优势 | 需要决定是否采用 time-aware 建模 | Time-aware 模型 vs 非时间模型对比 | If [优势显著] → [采用 time-aware]；Else [简化架构] |
| DG5 | 冷启动策略的有效性 | 需要设计针对长尾主播的冷启动方案 | 冷启动策略 vs Baseline 对比 | If [有效] → [采用冷启动策略]；Else [探索其他方向] |

## 6) 设计原则（可复用规则）
### 6.1 已确认原则
| # | 原则 | 建议（做/不做） | 适用范围 | 证据 |
|---|---|---|---|---|
| P1 | **动态候选集建模** | ✅ 做：在离线实验中重建"某一时刻哪些房间在播" | 所有直播推荐任务 | 论文核心特性 |
| P2 | **多行为序列利用** | ✅ 做：设计 multi-behavior 模型，利用 click/comment/like/gift 层次关系 | 推荐任务 | 论文数据组成 |
| P3 | **负反馈数据利用** | ✅ 做：用于 CTR 预测任务，不限于正反馈推荐 | CTR 预测任务 | 论文特性 |
| P4 | **长尾分布处理** | ✅ 做：不能用 5-core 过滤，需设计冷启动策略 | 所有任务 | 论文统计：70% 主播交互 < 5 |
| P5 | **时间感知建模** | ✅ 做：考虑重复消费和日周期模式，设计 time-aware 模型 | 序列推荐任务 | 论文统计：27.1% 用户重复交互 |
| P6 | **Item 定义明确** | ✅ 做：实验设计需明确 Room-level vs Streamer-level | 所有任务 | 论文 benchmark 显示差异显著 |
| P7 | **Session 级标签定义** | ✅ 做：使用 Session-level `is_gift` + `gift_amount` 作为标签 | 打赏预测任务 | Session 转化率 1.57% 与 click-level 一致，更符合业务逻辑 |
| P8 | **首 10% 时间窗口特征工程** | ✅ 做：重点提取 session 前 10% 时间窗口特征 | 打赏预测任务 | 90.36% 打赏发生在 session 前 10% 时间内 |
| P9 | **重尾分布处理** | ✅ 做：使用 `log(1+Y)` 变换或分位数回归处理金额预测 | 金额预测任务 | Session 时长 P99/P50=1,895x，极端重尾分布 |

### 6.2 待验证原则
| # | 原则 | 初步建议 | 需要验证（MVP/Gate） |
|---|---|---|---|
| P10 | Multi-behavior 建模优势 | 初步建议采用 | MVP-1 / Gate-2 |
| P11 | Time-aware 建模优势 | 初步建议采用 | MVP-1 / Gate-2 |
| P12 | 冷启动策略有效性 | 初步建议设计 | MVP-2 / Gate-3 |

### 6.3 关键数字速查（只留会反复用到的）
| 指标 | 值 | 条件 | 来源 |
|---|---|---|---|
| 用户数 | 23,772 | 21 天窗口 | 论文统计 |
| 主播数 | 452,621 | 21 天窗口 | 论文统计 |
| 直播间数 | 11,613,708 | 21 天窗口 | 论文统计 |
| 总交互数 | 5,357,998 | 21 天窗口 | 论文统计 |
| Click 数 | 4,909,515 | 21 天窗口 | 论文统计 |
| Gift 数 | 72,646 | 21 天窗口 | 论文统计 |
| Gift/Click 比例 | 1.5% | - | 论文统计 |
| Session 总数 | 4,293,908 | 21 天窗口 | `exp/exp_kuailive_eda_comprehensive_20260109.md` |
| Session 转化率 | 1.57% | - | `exp/exp_kuailive_eda_comprehensive_20260109.md` |
| 立即打赏比例 | 90.36% | session 前 10% 时间内 | `exp/exp_kuailive_eda_comprehensive_20260109.md` |
| 数据健康评分 | 5.0/5.0 | - | `exp/exp_kuailive_eda_comprehensive_20260109.md` |
| Session 时长 P99/P50 | 1,895x | - | `exp/exp_kuailive_eda_comprehensive_20260109.md` |
| 长尾主播比例 | 70% | 交互数 < 5 | 论文统计 |
| 低活跃用户比例 | 43.8% | 交互数 < 50 | 论文统计 |
| 重复消费用户比例 | 27.1% | 与同一主播多次交互 | 论文统计 |

### 6.4 已关闭方向（避免重复踩坑）
| 方向 | 否定证据 | 关闭原因 | 教训 |
|---|---|---|---|
| - | - | - | - |

## 7) 指针（详细信息在哪）
| 类型 | 路径 | 说明 |
|---|---|---|
| 🗺️ Roadmap | `./kuailive_roadmap.md` | Decision Gates + MVP 执行 |
| 📋 Kanban | `status/kanban.md` | 进度中控 |
| 📗 Experiments | `exp/exp_*.md` | 单实验报告 |
| 📊 EDA | `exp/exp_kuailive_eda_20260108.md` | KuaiLive 打赏行为 EDA（Gini=0.94，极稀疏） |
| 📊 Comprehensive EDA | `exp/exp_kuailive_eda_comprehensive_20260109.md` | 全方位 EDA（Phase 1-2 完成：数据质量 5.0/5.0，90.36% 立即打赏，Session 转化率 1.57%） |

## 8) 变更日志（只记录"知识改变"）
| 日期 | 变更 | 影响 |
|---|---|---|
| 2026-01-09 | 创建 Hub，整理论文数据特性总结 | 建立 KuaiLive 数据集知识库 |
| 2026-01-09 | 添加 EDA 实验报告（exp_kuailive_eda_20260108.md） | 验证 Gift 行为稀疏性（1.48%）和重尾分布（Gini=0.94） |
| 2026-01-17 | 更新 Comprehensive EDA（Phase 1-2 完成） | 验证数据质量优秀（5.0/5.0）、打赏即时性（90.36% 立即打赏）、Session 级建模合理性（转化率 1.57%），新增设计原则 P7-P9 |

<details>
<summary><b>附录：术语表 / 背景（可选）</b></summary>

### 术语表
| 术语 | 定义 |
|---|---|
| **KuaiLive** | 快手（Kuaishou）首个公开"实时 + 可交互"直播推荐数据集 |
| **动态候选集** | 某一时刻哪些房间在播，候选集随时间动态变化 |
| **Room-level** | 以直播间（room）为推荐 item |
| **Streamer-level** | 以主播（streamer）为推荐 item |
| **Multi-behavior** | 多行为建模，利用 click/comment/like/gift 等多种行为 |
| **Time-aware** | 时间感知建模，考虑时间序列和周期性模式 |
| **重复消费** | 用户与同一主播多次交互的现象 |
| **5-core** | 数据过滤方法，要求每个节点至少有 5 条边 |

### 背景
- **数据集来源**：快手（Kuaishou）直播平台
- **时间范围**：2025-05-05 到 2025-05-25（共 21 天）
- **数据特点**：
  - 带直播间生命周期（开播/下播）
  - 多种实时互动行为（click/comment/like/gift）
  - 用户/主播/房间侧信息
  - 严格的时间顺序日志
  - 有负反馈（曝光但跳过）
- **相比其他数据集优势**：
  - 支持动态候选集模拟
  - 多行为序列
  - 严格时间顺序
  - 负反馈数据
  - 丰富的侧信息特征

### 论文 Benchmark 任务
1. **Top-K 推荐**（两种 item 定义：推荐主播 vs 推荐直播间）
2. **CTR 预测**（含正负样本的时间切分 8:1:1）

### 支持的研究方向
- Top-K 推荐
- CTR / GTR（打赏转化）预测
- 观看时长预测
- 礼物价格预测
- 多行为建模 / 多任务学习
- 可控多目标推荐
- 冷启动推荐
- 公平性推荐
- 端到端生成式推荐

</details>
