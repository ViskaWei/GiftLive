{
  "direct_reg": {
    "top_1pct": 0.5450801258050022,
    "top_5pct": 0.41434776097049575,
    "ndcg_100": 0.2165426277883133,
    "spearman": 0.3311018851025714
  },
  "two_stage": {
    "top_1pct": 0.3581698367530328,
    "top_5pct": 0.40350456791972444,
    "ndcg_100": 0.37102581157828934,
    "spearman": 0.24680267798378167
  },
  "exp1_stage1_only": {
    "top_1pct": 0.34349258649093906,
    "top_5pct": 0.4217163396735061,
    "ndcg_100": 0.0008947952613812002,
    "spearman": 0.5846695677722629,
    "interpretation": "Stage1 classifier ranking ability without m(x)"
  },
  "exp2_stage2_gift_subset": {
    "n_gift_samples": 29349,
    "stage2_spearman": 0.8924565706780831,
    "direct_spearman": 0.7366612834799844,
    "stage2_better": true,
    "interpretation": "Stage2 ranking ability within gift samples"
  },
  "exp3_oracle_p": {
    "top_1pct": 0.907218810843193,
    "top_5pct": 1.0,
    "ndcg_100": 0.705780875584713,
    "description": "Perfect classification \u00d7 actual m(x)",
    "interpretation": "Upper bound if Stage1 were perfect"
  },
  "exp4_oracle_m": {
    "top_1pct": 0.38939643552493636,
    "top_5pct": 0.38379511756776996,
    "ndcg_100": 0.850544854249075,
    "description": "Actual p(x) \u00d7 perfect amount",
    "interpretation": "Upper bound if Stage2 were perfect"
  },
  "binary_upper_bound": {
    "top_1pct": 0.45005241875093605,
    "interpretation": "Best possible with perfect binary classification"
  },
  "diagnosis": {
    "gap_ts_vs_direct": -0.18691028905196938,
    "gap_s1_vs_direct": -0.20158753931406315,
    "gain_oracle_p": 0.5490489740901602,
    "gain_oracle_m": 0.031226598771903535,
    "s2_better_in_gift_subset": true,
    "primary_cause": "stage1_classification",
    "evidence": "Oracle_p gain (54.9pp) > Oracle_m gain (3.1pp)",
    "recommendation": "Consider recall-rank pipeline: Direct for recall, Two-Stage for rerank"
  },
  "experiment_id": "EXP-20260108-gift-allocation-11",
  "mvp": "MVP-1.4",
  "timestamp": "2026-01-08T16:57:11.468581",
  "test_size": 1335406,
  "n_gift": 29349
}